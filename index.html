<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniPortal - Student Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="auth-screen" class="auth-container">
        <div class="auth-box">
            <div class="auth-header">
                <h2><i class="fas fa-graduation-cap"></i> UniPortal</h2>
                <p>Student Management System</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="register">Register</div>
            </div>
            
            <form id="login-form" class="auth-form active">
                <p id="login-message" class="message-text"></p>
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">Log In</button>
                <p class="demo-info">Demo accounts:
                    <br>Student: ahmed.hazem@university.edu
                    <br>Advisor: dr.elgohary@university.edu
                    <br>Admin: admin@university.edu
                    <br>Password: password123 (for all demo accounts)
                </p>
            </form>

            <form id="register-form" class="auth-form">
                <p id="register-message" class="message-text"></p>
                <div class="form-group">
                    <label for="register-fullname">Full Name</label>
                    <input type="text" id="register-fullname" class="form-control" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" class="form-control" placeholder="Enter new email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" class="form-control" placeholder="Create a password" required>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">Confirm Password</label>
                    <input type="password" id="register-confirm-password" class="form-control" placeholder="Confirm your password" required>
                </div>
                <div class="form-group">
                    <label for="register-major">Major</label>
                    <select id="register-major" class="form-control">
                        <option value="Undeclared">Select Major</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Information Systems">Information Systems</option>
                        <option value="Business">Business</option>
                        <option value="Physics">Physics</option>
                        <option value="Mathematics">Mathematics</option>
                        <option value="History">History</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="register-role">Register As</label>
                    <select id="register-role" class="form-control" required>
                        <option value="student">Student</option>
                        <option value="advisor">Academic Advisor</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </form>
        </div>
    </div>

    <div id="student-app-screen" class="container" style="display: none;">
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-user-graduate"></i>
                <div class="user-info">
                    <h3 id="student-name">Student Name</h3>
                    <p id="student-role">Major Level</p>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#" class="nav-item active" data-section="dashboard"><i class="fas fa-chart-line"></i> Dashboard</a>
                <a href="#" class="nav-item" data-section="courses"><i class="fas fa-book-open"></i> Courses</a>
                
                <a href="#" class="nav-item" data-section="classrooms"><i class="fas fa-door-open"></i> Classrooms</a>

                <a href="#" class="nav-item" data-section="assignments"><i class="fas fa-tasks"></i> Assignments</a>
                <a href="#" class="nav-item" data-section="schedule"><i class="fas fa-calendar-alt"></i> Schedule</a>
                <a href="#" class="nav-item" data-section="grades"><i class="fas fa-clipboard-list"></i> Grades</a>
            </div>
            <button id="logout-btn" class="btn btn-secondary logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>

        <div class="main-content">
            <div class="header">
                <h1 id="current-section-title">Dashboard</h1>
            </div>
            
            <div class="content-wrapper">
                <div id="dashboard-section" class="content-section" style="display: none;">
                    <div class="dashboard-grid">
                        <div class="stat-card primary">
                            <i class="fas fa-book"></i>
                            <div class="stat-info">
                                <p>Current Courses</p>
                                <span id="dashboard-enrolled-count" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stat-card warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div class="stat-info">
                                <p>Pending Assignments</p>
                                <span id="dashboard-pending-assignments" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stat-card success">
                            <i class="fas fa-graduation-cap"></i>
                            <div class="stat-info">
                                <p>Cumulative GPA</p>
                                <span id="dashboard-gpa" class="stat-value">0.00</span>
                            </div>
                        </div>
                        <div class="stat-card info">
                            <i class="fas fa-check-circle"></i>
                            <div class="stat-info">
                                <p>Completed Assignments</p>
                                <span id="dashboard-completed-assignments" class="stat-value">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="widgets-container">
                        <div class="widget large">
                            <h3>Current Courses</h3>
                            <div id="current-courses-list" class="courses-grid">
                                </div>
                        </div>
                        <div class="widget small">
                            <h3>Upcoming Deadlines</h3>
                            <div id="upcoming-assignments-list" class="assignments-list">
                                </div>
                        </div>
                    </div>

                    <div class="widgets-container">
                        <div class="widget large">
                            <h3>Available Courses (Quick Browse)</h3>
                            <div id="dashboard-all-courses-list" class="courses-grid">
                                <!-- Populated from script.js with same data as full Courses page -->
                            </div>
                        </div>
                        <div class="widget large">
                            <h3>My Course Requests</h3>
                            <div id="dashboard-student-requests-list" class="requests-grid">
                                <!-- Populated from script.js with student's requests -->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="courses-section" class="content-section" style="display: none;">
                    <h2>Available Courses for Registration</h2>
                    <div id="all-courses-list" class="courses-grid">
                        </div>

                    <h2 style="margin-top:20px;">Your Course Requests</h2>
                    <div id="student-requests-list" class="requests-grid">
                        <p class="placeholder-text">You have no submitted course registration requests.</p>
                    </div>
                </div>

                <div id="classrooms-section" class="content-section" style="display: none;">
                    <h2>Classroom Availability & Booking</h2>
                    <div class="classroom-filters">
                        <div class="form-group">
                            <label for="classroom-date">Date</label>
                            <input type="date" id="classroom-date" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="classroom-start">Start Time</label>
                            <input type="time" id="classroom-start" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="classroom-end">End Time</label>
                            <input type="time" id="classroom-end" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <button id="search-classrooms-btn" class="btn btn-primary">Search</button>
                        </div>
                    </div>

                    <div id="classrooms-list" class="courses-grid">
                    </div>
                    <div class="widget large" style="margin-top:20px;">
                        <h3>Your Bookings</h3>
                        <div id="student-bookings-list" class="requests-grid">
                            <p class="placeholder-text">You have no bookings yet.</p>
                        </div>
                    </div>
                </div>

                <!-- Course requests are now shown on the Courses page to avoid redundancy -->

                <div id="assignments-section" class="content-section" style="display: none;">
                    <h2>Assignments</h2>
                    <p class="placeholder-text">Assignments list will appear here.</p>
                </div>
                <div id="schedule-section" class="content-section" style="display: none;">
                    <h2>Schedule</h2>
                    <p class="placeholder-text">Your class schedule will appear here.</p>
                </div>
                <div id="grades-section" class="content-section" style="display: none;">
                    <h2>Grades</h2>
                    <p class="placeholder-text">Your grades and academic history will appear here.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="advisor-app-screen" class="container" style="display: none;">
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-user-tie"></i>
                <div class="user-info">
                    <h3 id="advisor-name">Advisor Name</h3>
                    <p id="advisor-role">Academic Advisor</p>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#" class="nav-item active" data-section="advisor-dashboard"><i class="fas fa-chart-line"></i> Dashboard</a>
                <a href="#" class="nav-item" data-section="pending-requests"><i class="fas fa-bell"></i> Pending Requests</a>
                <a href="#" class="nav-item" data-section="advisor-classrooms"><i class="fas fa-door-open"></i> Book Classrooms</a>
                <a href="#" class="nav-item" data-section="manage-bookings"><i class="fas fa-door-closed"></i> Manage Bookings</a>
                <a href="#" class="nav-item" data-section="student-management"><i class="fas fa-users"></i> Student Management</a>
            </div>
            <button id="advisor-logout-btn" class="btn btn-secondary logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>

        <div class="main-content">
            <div class="header">
                <h1 id="advisor-current-section-title">Dashboard</h1>
            </div>
            <div class="content-wrapper">
                <div id="advisor-dashboard-section" class="content-section" style="display: none;">
                    <div class="dashboard-grid">
                        <div class="stat-card warning">
                            <i class="fas fa-inbox"></i>
                            <div class="stat-info">
                                <p>Pending Requests</p>
                                <span id="advisor-pending-requests-count" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stat-card info">
                            <i class="fas fa-door-open"></i>
                            <div class="stat-info">
                                <p>Classroom Bookings</p>
                                <span id="advisor-bookings-count" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stat-card primary">
                            <i class="fas fa-users"></i>
                            <div class="stat-info">
                                <p>Managed Students</p>
                                <span id="advisor-total-students-count" class="stat-value">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="pending-requests-section" class="content-section" style="display: none;">
                    <h2>Course Registration Requests</h2>
                    <div id="advisor-requests-list" class="requests-grid">
                        </div>
                </div>

                <div id="advisor-classrooms-section" class="content-section" style="display: none;">
                    <h2>Classroom Availability & Booking</h2>
                    <div class="classroom-filters">
                        <div class="form-group">
                            <label for="advisor-classroom-date">Date</label>
                            <input type="date" id="advisor-classroom-date" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="advisor-classroom-start">Start Time</label>
                            <input type="time" id="advisor-classroom-start" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="advisor-classroom-end">End Time</label>
                            <input type="time" id="advisor-classroom-end" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <button id="advisor-search-classrooms-btn" class="btn btn-primary">Search</button>
                        </div>
                    </div>

                    <div id="advisor-classrooms-list" class="courses-grid">
                    </div>
                    <div class="widget large" style="margin-top:20px;">
                        <h3>Your Bookings</h3>
                        <div id="advisor-my-bookings-list" class="requests-grid">
                            <p class="placeholder-text">You have no bookings yet.</p>
                        </div>
                    </div>
                </div>

                <div id="student-management-section" class="content-section" style="display: none;">
                    <h2>Student Management</h2>
                    <div id="advisor-students-list" class="requests-grid">
                        </div>
                </div>

                <div id="manage-bookings-section" class="content-section" style="display: none;">
                    <h2>Classroom Bookings</h2>
                    <p class="placeholder-text">View and manage classroom bookings made by students.</p>
                    <div id="advisor-bookings-list" class="requests-grid">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="course-selection-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Request New Course</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="modal-course-id">
                <p id="modal-course-info" class="modal-info-text"></p>
                <div class="form-group">
                    <label for="request-reason">Reason for Request</label>
                    <textarea id="request-reason" class="form-control" placeholder="Explain why you want to take this course... (Optional)" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-request">Cancel</button>
                <button class="btn btn-primary" id="submit-request">Submit Request</button>
            </div>
        </div>
    </div>

    <div id="course-materials-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="materials-modal-title">Course Materials</h3>
                <span class="close materials-close">&times;</span>
            </div>
            <div class="modal-body">
                <p id="materials-modal-course-info" class="modal-info-text"></p>
                <div id="course-materials-list" class="materials-list">
                    </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary materials-close">Close</button>
            </div>
        </div>
    </div>

    <div id="classroom-booking-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="booking-modal-title">Book Classroom</h3>
                <span class="close booking-close">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="booking-classroom-id">
                <p id="booking-classroom-info" class="modal-info-text"></p>
                <div class="form-group">
                    <label for="booking-purpose">Purpose</label>
                    <input id="booking-purpose" class="form-control" placeholder="E.g., Lecture, Exam, Study Session" />
                </div>
                <div class="form-group">
                    <label for="booking-date">Date</label>
                    <input id="booking-date" type="date" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="booking-start-time">Start Time</label>
                    <input id="booking-start-time" type="time" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="booking-end-time">End Time</label>
                    <input id="booking-end-time" type="time" class="form-control" />
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary booking-close">Cancel</button>
                <button class="btn btn-primary" id="confirm-booking-btn">Confirm Booking</button>
            </div>
        </div>
    </div>

    <div id="advisor-edit-booking-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="advisor-edit-booking-title">Edit Booking</h3>
                <span class="close advisor-booking-close">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="advisor-edit-booking-id">
                <p id="advisor-edit-booking-room" class="modal-info-text"></p>
                <div class="form-group">
                    <label for="advisor-edit-purpose">Purpose</label>
                    <input id="advisor-edit-purpose" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="advisor-edit-date">Date</label>
                    <input id="advisor-edit-date" type="date" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="advisor-edit-start">Start Time</label>
                    <input id="advisor-edit-start" type="time" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="advisor-edit-end">End Time</label>
                    <input id="advisor-edit-end" type="time" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="advisor-edit-status">Status</label>
                    <select id="advisor-edit-status" class="form-control">
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="advisor-delete-booking-btn">Delete</button>
                <button class="btn btn-secondary advisor-booking-close">Cancel</button>
                <button class="btn btn-primary" id="advisor-save-booking-btn">Save Changes</button>
            </div>
        </div>
    </div>

    <div id="admin-app-screen" class="container" style="display: none;">
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-user-shield"></i>
            <div class="user-info">
                <h3 id="admin-name">Admin Name</h3>
                <p id="admin-role">System Administrator</p>
            </div>
        </div>
        <div class="nav-menu">
            <a href="#" class="nav-item active" data-section="admin-dashboard"><i class="fas fa-chart-line"></i> Dashboard</a>
            <a href="#" class="nav-item" data-section="user-management"><i class="fas fa-users-cog"></i> User Management</a>
            <a href="#" class="nav-item" data-section="system-management"><i class="fas fa-cogs"></i> System Management</a>
            <a href="#" class="nav-item" data-section="all-bookings"><i class="fas fa-door-closed"></i> All Bookings</a>
            <a href="#" class="nav-item" data-section="all-requests"><i class="fas fa-bell"></i> All Requests</a>
        </div>
        <button id="admin-logout-btn" class="btn btn-secondary logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </div>

    <div class="main-content">
        <div class="header">
            <h1 id="admin-current-section-title">Dashboard</h1>
        </div>
        <div class="content-wrapper">
            <div id="admin-dashboard-section" class="content-section" style="display: none;">
                <div class="dashboard-grid">
                    <div class="stat-card primary">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <p>Total Students</p>
                            <span id="admin-total-students" class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-card warning">
                        <i class="fas fa-user-tie"></i>
                        <div class="stat-info">
                            <p>Total Advisors</p>
                            <span id="admin-total-advisors" class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-card success">
                        <i class="fas fa-door-open"></i>
                        <div class="stat-info">
                            <p>Active Bookings</p>
                            <span id="admin-active-bookings" class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-card info">
                        <i class="fas fa-bell"></i>
                        <div class="stat-info">
                            <p>Pending Requests</p>
                            <span id="admin-pending-requests" class="stat-value">0</span>
                        </div>
                    </div>
                </div>

                <div class="widgets-container">
                    <div class="widget large">
                        <h3>Recent User Activity</h3>
                        <div id="admin-recent-activity" class="requests-grid">
                            <p class="placeholder-text">No recent activity to display.</p>
                        </div>
                    </div>
                    <div class="widget small">
                        <h3>Quick Actions</h3>
                        <div class="quick-actions">
                            <button class="btn btn-primary btn-block" id="reset-all-passwords">Reset All Passwords</button>
                            <button class="btn btn-warning btn-block" id="clear-pending-requests">Clear Pending Requests</button>
                            <button class="btn btn-danger btn-block" id="reset-system-data">Reset System Data</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="user-management-section" class="content-section" style="display: none;">
                <h2>User Management</h2>
                <div class="user-filters">
                    <div class="form-group">
                        <label for="user-role-filter">Filter by Role</label>
                        <select id="user-role-filter" class="form-control">
                            <option value="all">All Users</option>
                            <option value="student">Students</option>
                            <option value="advisor">Advisors</option>
                            <option value="admin">Admins</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="user-search">Search</label>
                        <input type="text" id="user-search" class="form-control" placeholder="Search by name or email...">
                    </div>
                </div>
                <div id="admin-users-list" class="requests-grid">
                </div>
            </div>

            <div id="system-management-section" class="content-section" style="display: none;">
                <h2>System Management</h2>
                <div class="system-actions">
                    <div class="action-card">
                        <h3>Database Management</h3>
                        <p>Reset system data to default demo state</p>
                        <button class="btn btn-danger" id="reset-database-btn">Reset Database</button>
                    </div>
                    <div class="action-card">
                        <h3>Password Management</h3>
                        <p>Reset all user passwords to default</p>
                        <button class="btn btn-warning" id="reset-all-passwords-btn">Reset All Passwords</button>
                    </div>
                    <div class="action-card">
                        <h3>Clear Pending Requests</h3>
                        <p>Remove all pending course requests</p>
                        <button class="btn btn-warning" id="clear-all-requests-btn">Clear All Requests</button>
                    </div>
                </div>
            </div>

            <div id="all-bookings-section" class="content-section" style="display: none;">
                <h2>All Classroom Bookings</h2>
                <div id="admin-bookings-list" class="requests-grid">
                </div>
            </div>

            <div id="all-requests-section" class="content-section" style="display: none;">
                <h2>All Course Requests</h2>
                <div id="admin-requests-list" class="requests-grid">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Admin Edit User Modal -->
<div id="admin-edit-user-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Edit User</h3>
            <span class="close admin-user-close">&times;</span>
        </div>
        <div class="modal-body">
            <input type="hidden" id="admin-edit-user-id">
            <div class="form-group">
                <label for="admin-edit-firstname">First Name</label>
                <input type="text" id="admin-edit-firstname" class="form-control">
            </div>
            <div class="form-group">
                <label for="admin-edit-lastname">Last Name</label>
                <input type="text" id="admin-edit-lastname" class="form-control">
            </div>
            <div class="form-group">
                <label for="admin-edit-email">Email</label>
                <input type="email" id="admin-edit-email" class="form-control">
            </div>
            <div class="form-group">
                <label for="admin-edit-role">Role</label>
                <select id="admin-edit-role" class="form-control">
                    <option value="student">Student</option>
                    <option value="advisor">Advisor</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
            <div class="form-group" id="admin-edit-major-group" style="display: none;">
                <label for="admin-edit-major">Major</label>
                <input type="text" id="admin-edit-major" class="form-control">
            </div>
            <div class="form-group" id="admin-edit-level-group" style="display: none;">
                <label for="admin-edit-level">Level</label>
                <input type="text" id="admin-edit-level" class="form-control">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" id="admin-reset-password-btn">Reset Password</button>
            <button class="btn btn-secondary admin-user-close">Cancel</button>
            <button class="btn btn-primary" id="admin-save-user-btn">Save Changes</button>
        </div>
    </div>
</div>

    <script src="database.js"></script>
    <script src="script.js"></script>
</body>
</html>